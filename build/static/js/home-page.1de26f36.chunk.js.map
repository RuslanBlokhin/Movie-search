{"version":3,"sources":["views/HomePage.js","services/moviesApi.js","components/Notification/Notification.js","components/Button/Button.js","components/Button/Button.module.css","components/Notification/Notification.module.css","components/MoviesGallery/MoviesGalleryItem/MoviesGalleryItem.module.css","components/MoviesGallery/MoviesGallery.module.css","components/MoviesGallery/MoviesGalleryItem/MoviesGalleryItem.js","components/MoviesGallery/MoviesGallery.js"],"names":["HomePage","state","movies","page","error","loader","handleOnButtonClick","setState","api","getTrendingMovies","then","addTrendingMoviesToState","window","scrollTo","top","behavior","catch","finally","a","this","showButtons","message","onClick","name","disabled","Component","axios","defaults","baseURL","API_KEY","get","response","data","results","getByQueryMovies","query","getMovieById","id","option","Notification","className","styles","Button","type","defaultProps","module","exports","MoviesGalleryItem","poster","title","vote","location","to","pathname","from","src","alt","MoviesGalleryItem__image","MoviesGalleryItem__title","MoviesGalleryItem__vote","withRouter","MoviesGallery","map","posterPath","poster_path","voteAverage","vote_average"],"mappings":"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","file":"static/js/home-page.1de26f36.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport api from \"../services/moviesApi\";\r\nimport Button from \"../components/Button/Button\";\r\nimport MoviesGallery from \"../components/MoviesGallery/MoviesGallery\";\r\nimport MyLoader from \"../components/MyLoader/MyLoader\";\r\nimport Notification from \"../components/Notification/Notification\";\r\n\r\nclass HomePage extends Component {\r\n  state = {\r\n    movies: [],\r\n    page: 1,\r\n    error: \"\",\r\n    loader: false,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      this.setState({ movies: [], page: 1, error: \"\", loader: true });\r\n      const { page } = this.state;\r\n      const movies = await api.getTrendingMovies(page);\r\n      this.addTrendingMoviesToState(movies, page);\r\n    } catch (err) {\r\n      this.setState({ error: err });\r\n    }\r\n  }\r\n\r\n  handleOnButtonClick = (page) => () => {\r\n    this.setState({ loader: true });\r\n    api\r\n      .getTrendingMovies(page)\r\n      .then((movies) => this.addTrendingMoviesToState(movies, page))\r\n      .then(\r\n        window.scrollTo({\r\n          top: 0,\r\n          behavior: \"smooth\",\r\n        })\r\n      )\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => {\r\n        this.setState({ loader: false });\r\n      });\r\n  };\r\n\r\n  addTrendingMoviesToState = (movies, page) => {\r\n    this.setState({ movies, page, error: \"\", loader: false });\r\n  };\r\n\r\n  render() {\r\n    const { error, movies, loader, page } = this.state;\r\n    const showButtons = !loader && movies[0] && true;\r\n    const disabled = true;\r\n    return (\r\n      <>\r\n        {error && <Notification message=\"Something wrong :(\" />}\r\n        <MoviesGallery movies={movies} />\r\n        {loader && <MyLoader />}\r\n        {showButtons && (\r\n          <>\r\n            {page === 1 ? (\r\n              <Button\r\n                onClick={this.handleOnButtonClick(page - 1)}\r\n                name={`<<< Prev page ${page - 1}`}\r\n                disabled={disabled}\r\n              />\r\n            ) : (\r\n              <Button\r\n                onClick={this.handleOnButtonClick(page - 1)}\r\n                name={`<<< Prev page №${page - 1}`}\r\n              />\r\n            )}\r\n            <Button\r\n              onClick={this.handleOnButtonClick(page)}\r\n              name={`Current page №${page}`}\r\n              disabled={disabled}\r\n            />\r\n            <Button\r\n              onClick={this.handleOnButtonClick(page + 1)}\r\n              name={`Next page ${page + 1} >>>`}\r\n            />\r\n          </>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomePage;\r\n","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://api.themoviedb.org/3/\";\r\nconst API_KEY = \"f09fb537b7ff9fc6acf20b99acef8c75\";\r\n\r\nconst api = {\r\n  getTrendingMovies(page) {\r\n    return axios\r\n      .get(`trending/movie/week?api_key=${API_KEY}&page=${page}`)\r\n      .then((response) => response.data.results);\r\n  },\r\n  getByQueryMovies(query, page) {\r\n    return axios\r\n      .get(`search/movie?api_key=${API_KEY}&page=${page}&query=${query}`)\r\n      .then((response) => response.data.results);\r\n  },\r\n  getMovieById(id, option = \"\", page = \"\") {\r\n    return axios.get(`movie/${id}${option}?api_key=${API_KEY}${page}`);\r\n  },\r\n};\r\n\r\nexport default api;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Notification.module.css\";\r\n\r\nconst Notification = ({ message }) => (\r\n  <p className={styles.Notification}>{message}</p>\r\n);\r\n\r\nNotification.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Notification;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick, name, disabled }) => (\r\n  <button\r\n    type=\"button\"\r\n    onClick={onClick}\r\n    className={styles.Button}\r\n    disabled={disabled}\r\n  >\r\n    {name}\r\n  </button>\r\n);\r\n\r\nButton.defaultProps = {\r\n  disabled: false,\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default Button;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3k3CP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Notification\":\"Notification_Notification__3bSVe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MoviesGalleryItem\":\"MoviesGalleryItem_MoviesGalleryItem__dy-LG\",\"MoviesGalleryItem__image\":\"MoviesGalleryItem_MoviesGalleryItem__image__19zLQ\",\"MoviesGalleryItem__title\":\"MoviesGalleryItem_MoviesGalleryItem__title__2pHtg\",\"MoviesGalleryItem__vote\":\"MoviesGalleryItem_MoviesGalleryItem__vote__aKln4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MoviesGallery\":\"MoviesGallery_MoviesGallery__1Yhes\"};","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./MoviesGalleryItem.module.css\";\r\n\r\nconst MoviesGalleryItem = ({ poster, title, vote, id, location }) => (\r\n  <li className={styles.MoviesGalleryItem}>\r\n    <Link\r\n      to={{\r\n        pathname: `/movies/${id}`,\r\n        state: { from: location },\r\n      }}\r\n    >\r\n      <img\r\n        src={\r\n          poster\r\n            ? `https://image.tmdb.org/t/p/w300${poster}`\r\n            : \"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg\"\r\n        }\r\n        alt={title}\r\n        className={styles.MoviesGalleryItem__image}\r\n      />\r\n      <h2 className={styles.MoviesGalleryItem__title}>{title}</h2>\r\n      <span className={styles.MoviesGalleryItem__vote}>{vote}</span>\r\n    </Link>\r\n  </li>\r\n);\r\n\r\nMoviesGalleryItem.defaultProps = {\r\n  poster:\r\n    \"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg\",\r\n};\r\n\r\nMoviesGalleryItem.propTypes = {\r\n  poster: PropTypes.string,\r\n  title: PropTypes.string.isRequired,\r\n  vote: PropTypes.number.isRequired,\r\n  id: PropTypes.number.isRequired,\r\n  location: PropTypes.shape().isRequired,\r\n};\r\n\r\nexport default withRouter(MoviesGalleryItem);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport MoviesGalleryItem from \"./MoviesGalleryItem/MoviesGalleryItem\";\r\nimport styles from \"./MoviesGallery.module.css\";\r\n\r\nconst MoviesGallery = ({ movies }) => (\r\n  <ul className={styles.MoviesGallery}>\r\n    {movies.map(\r\n      ({ id, poster_path: posterPath, vote_average: voteAverage, title }) => (\r\n        <MoviesGalleryItem\r\n          key={id}\r\n          poster={posterPath}\r\n          vote={voteAverage}\r\n          title={title}\r\n          id={id}\r\n        />\r\n      )\r\n    )}\r\n  </ul>\r\n);\r\n\r\nMoviesGallery.propTypes = {\r\n  movies: PropTypes.arrayOf(PropTypes.shape).isRequired,\r\n};\r\n\r\nexport default MoviesGallery;\r\n"],"sourceRoot":""}